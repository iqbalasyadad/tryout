{% extends "core/base.html" %}
{% block title %}Start - {{ package.title }}{% endblock %}

{% block content %}
<div
  style="max-width:600px; margin:40px auto; background:white; border-radius:12px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.05); text-align:center;">
  <div style="font-size:40px; margin-bottom:15px;">ðŸš€</div>
  <h1 style="margin-bottom:10px;">{{ package.title }}</h1>
  <span
    style="background:#e3f2fd; color:#0765f3; padding:5px 10px; border-radius:20px; font-size:12px; font-weight:bold;">
    {{ mode }} MODE</span>

  <div style="display:flex; justify-content:center; gap:30px; margin:30px 0; color:#555;">
    <div>
      <div style="font-size:20px; font-weight:bold; color:#333;">{{ q_count }}</div>
      <div style="font-size:13px;">Questions</div>
    </div>
    <div>
      <div style="font-size:20px; font-weight:bold; color:#333;">{{ package.duration_minutes }}</div>
      <div style="font-size:13px;">Minutes</div>
    </div>
  </div>

  {% if existing %}
  <div style="background:#fff3e0; padding:15px; border-radius:8px; margin-bottom:20px; text-align:left;">
    <b style="color:#ef6c00;">Attempt in Progress</b>
    <p style="margin:5px 0 0; font-size:14px;">You have an unfinished attempt. Continue correctly or start over?</p>
    {% if time_info %}
    <div style="margin-top:5px; font-size:13px; color:#c62828;">Time Remaining: {{ time_info.remaining_seconds }}s</div>
    {% endif %}
  </div>

  <form method="post" style="display:flex; flex-direction:column; gap:10px;">
    {% csrf_token %}
    <button type="submit" name="action" value="continue"
      style="padding:14px; background:#0765f3; color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer;">Continue
      Previous Attempt</button>
    <button type="submit" name="action" value="new"
      style="padding:14px; background:white; border:1px solid #ddd; color:#d32f2f; border-radius:8px; font-weight:bold; cursor:pointer;">Start
      Fresh (Abort Previous)</button>
  </form>
  {% else %}
  <form method="post">
    {% csrf_token %}
    <button type="submit" name="action" value="new"
      style="width:100%; padding:14px; background:#0765f3; color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer; font-size:16px;">
      Start Now
    </button>
  </form>
  {% endif %}

  <a href="{% url 'package_detail' package.slug %}"
    style="display:inline-block; margin-top:20px; color:#777; font-size:14px;">Cancel</a>
</div>
{% endblock %}